# Техническое задание

## Возможности
0. [ ] Главная страница
1. [ ] Регистрация
2. [ ] Управление проектами
  1. [ ] Создание
  2. [ ] Просмотр
  3. [ ] Редактирование
  4. [ ] Удаление
3. [ ] Управление задачами
  1. [ ] Создание
  2. [ ] Просмотр
  3. [ ] Редактирование
  4. [ ] Удаление
4. [ ] Комментарии к задачам
  1. [ ] Создание
  2. [ ] Просмотр
  3. [ ] Удаление
5. [ ] Вложения
  1. [ ] Добавление/удаление из проекта
  2. [ ] Добавление/удаление из задачи
6. [ ] Участники
  1. [ ] Список
  2. [ ] Просмотр индивидуальной информации
    1. [ ] Список задач
    2. [ ] Статистика
7. [ ] Обсуждение задач проекта
  1. [ ] Создание
  2. [ ] Просмотр
  3. [ ] Редактирование
  4. [ ] Удаление


### Главная страница
- [ ] Если пользователь не залогинен --- ничего не видно, только форма для входа.
- [ ] Для залогиненого пользователя показываем список активных задач. Он состоит из двух таблиц (одна под другой):

1. Задачи для текущего пользователя (задачи, которые пользователь должен сделать)
2. Задачи от текущего пользователя (задачи, которые поставил пользователь)

- [ ] Каждая задача описывается полями:

1. Заголовок задачи
2. Автор задачи
3. Исполнитель задачи
4. Дата изменения

- [ ] Названия задач кликабельны и ведут на страницу задачи.
- [ ] В обоих таблицах задачи сортируются по дате обновления.
- [ ] Кроме того, на странице находится список проектов, в которых пользователь принимает участие (а также автором которых он является).

- [ ] Имеются кнопки:
  - [ ] Создание проекта,
  - [ ] Добавление новой задачи.


### Регистрация
- [ ] Поле для ввода логина, пароля, повторения пароля. Ничего необычного.
- [ ] Не храним сам пароль у себя, сохраним соль и хэш от пароля + соль.
- [ ] Возможно, стоит добавить почту (пока что «мёртвую», куда письма идти не будут).


### Управление проектами

#### Создание/редактирование
- [ ] Страница с полями:
1. Название проекта
2. Логин или почта создавшего (заполняется автоматически)
3. Даты начала и конца работы над проектом
4. Описание

- [ ] После сохранения к проекту можно:
  - [ ] Добавлять задания,
  - [ ] Добавлять файлы,
  - [ ] Добавлять обсуждения,
  - [ ] Приглашать пользователей.

#### Просмотр
- [ ] Отдельная страница, где выведены поля проекта, плюс:
  - [ ] Список задач (группировка по важности, внутри -- сортировка по крайнему сроку)
  - [ ] Список файлов проекта
  - [ ] Список обсуждений проекта

#### Удаление
- [ ] Удаление проекта, всех его задач, файлов, обсуждений


### Управление задачами

#### Создание/редактирование
- [ ] Страница с полями:

1. Проект (из тех, которые созданы пользователем или в которых он участвует)
2. Заголовок задачи
3. Описание задачи
4. Приоритет
5. Статус (New, Work in progress, Done, Closed)
5. Дата завершения (крайний срок)
6. Ответственный за сдачу пользователь
7. Метки (опционально)
8. Прикреплённые файлы (опционально)

- [ ] После сохранения к задаче можно:
  - [ ] Добавлять файлы,
  - [ ] Добавлять комментарии.

#### Просмотр
- [ ] Страница с полями:

1. Заголовок задачи
2. Описание задачи
3. Приоритет
4. Статус задачи
5. Ответственный за исполнение пользователь
6. Автор задачи
7. Проект
8. Дата создания
9. Дата обновления (меняется, когда кто-то оставляет комментарий или редактирует текст)
10. Дата завершения (дедлайн)
11. Метки

- [ ] Чуть ниже есть список файлов, прикрепленных к задаче.
- [ ] Редактировать задачи может только их автор.
- [ ] Автор может также удалять файлы.
- [ ] Ещё ниже выводятся комментарии (стандартно, «в столбик», только имя пользователя и текст, сортируются по дате добавления).


#### Удаление
- [ ] Удаление задачи и всех связанных с ней комментариев, файлов.


### Вложения

#### Добавление/удаление из проекта
- [ ] После сохранения к проекту можно добавить файлы, которые зальются в папку `files/<project_id>/`.
- [ ] Автор проекта может удалять файлы.

#### Добавление/удаление из задачи
- [ ] После сохранения к задаче можно добавить файлы, которые зальются в папку `files/<project_id>/<task_id>/`.
- [ ] Автор задачи может удалять файлы.


### Участники
- [ ] Список участников, отсортированный по ФИО (реальному имени). Каждое ФИО -- ссылка, ведущая на страницу с подробной информацией:
  - [ ] ФИО, логин, почта
  - [ ] Список задач, в которых участвует пользователь
  - [ ] Статистика пользователя:
    - [ ] Сколько задач было выдано пользователю в данном месяце и со сколькими он справился (их статус -- Done). Возможно, сделано в виде круговой диаграммы


### Обсуждение задач проекта

#### Создание/редактирование
- [ ] Страница с двумя полями для ввода: заголовком и текстовым полем.

#### Просмотр
- [ ] Страница, где выводятся в столбик все сообщения обсуждения, начиная с первого. Отсортированы по дате.

#### Удаление
- [ ] Удаление обсуждения, ничего больше.


## Технологии
1. Python 2.7
2. Flask
3. CouchDB (?)
